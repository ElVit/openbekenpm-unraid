Menu="Utilities"
Icon="openbekenpm.png"
Title="OpenBeken Power Monitor"
---
<?php
$openbekenpm_cfg 		= parse_plugin_cfg("openbekenpm",true);
$openbekenpm_device_ip		= isset($openbekenpm_cfg['DEVICE_IP']) ? $openbekenpm_cfg['DEVICE_IP'] : "";
$openbekenpm_use_pass		= isset($openbekenpm_cfg['DEVICE_USE_PASS']) ? $openbekenpm_cfg['DEVICE_USE_PASS'] : "false";
$openbekenpm_device_user	= isset($openbekenpm_cfg['DEVICE_USER']) ? $openbekenpm_cfg['DEVICE_USER'] : "admin";
$openbekenpm_device_pass	= isset($openbekenpm_cfg['DEVICE_PASS']) ? $openbekenpm_cfg['DEVICE_PASS'] : "";
$openbekenpm_uirefresh 		= isset($openbekenpm_cfg['UIREFRESH']) ? $openbekenpm_cfg['UIREFRESH'] : "1000";
$openbekenpm_costs_price	= isset($openbekenpm_cfg['COSTS_PRICE']) ? $openbekenpm_cfg['COSTS_PRICE'] : "0.0";
$openbekenpm_costs_unit		= isset($openbekenpm_cfg['COSTS_UNIT']) ? $openbekenpm_cfg['COSTS_UNIT'] : "USD";
?>

<form markdown="1" method="POST" action="/update.php" target="progressFrame">
<input type="hidden" name="#file" value="openbekenpm/openbekenpm.cfg" />

Use a password for OpenBeken Web UI:
: <select id="DEVICE_USE_PASS" name="DEVICE_USE_PASS" size="1">
  <?=mk_option($openbekenpm_use_pass, "0", "No");?>
  <?=mk_option($openbekenpm_use_pass, "1", "Yes");?>
  </select>

Username:
: <input id="DEVICE_USER" type="text" class="stopped" name="DEVICE_USER" maxlength="50" value="<?=$openbekenpm_device_user;?>" title="" placeholder="" >  

Password:
: <input id="DEVICE_PASS" type="password" class="stopped" name="DEVICE_PASS" maxlength="50" value="<?=$openbekenpm_device_pass;?>" title="" placeholder="" >  

Device IP:
: <input id="DEVICE_IP" type="text" class="stopped" name="DEVICE_IP" maxlength="15" value="<?=$openbekenpm_device_ip;?>" title="" placeholder="" >  

UI Refresh rate (Milliseconds):
: <input type="text" name="UIREFRESH" class="narrow" maxlength="50" value="<?=$openbekenpm_uirefresh;?>" placeholder="1000">

Price per kWh for cost calculation:
: <input id="COSTS_PRICE" type="text" class="stopped" name="COSTS_PRICE" maxlength="10" value="<?=$openbekenpm_costs_price;?>" title="" placeholder="0.00" >  

Unit for cost calculation:
: <input id="COSTS_UNIT" type="text" class="stopped" name="COSTS_UNIT" maxlength="10" value="<?=$openbekenpm_costs_unit;?>" title="" placeholder="" >  

 <input id="DEFAULT" class="stopped" type="submit" value="Default" onClick="resetDATA(this.form)">
: <input id="btnApply" type="submit" value="Apply"><input type="button" value="Done" onClick="done()">
</form>


<script type="text/javascript">
function resetDATA(form) {
  form.DEVICE_IP.value = "";
  form.DEVICE_USE_PASS.value = 0;
  form.DEVICE_USER.value = "";
  form.DEVICE_PASS.value = "";
  form.UIREFRESH.value = 1000;
  form.COSTS_PRICE.value = 0.00;
  form.COSTS_UNIT.value = "USD";
}
</script>
